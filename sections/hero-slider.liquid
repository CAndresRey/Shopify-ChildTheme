{%-liquid
  assign showPagination = false 
  if section.blocks.size > 1
    assign showPagination = true 
  endif
-%}

<div class="hero-banner">

  {% capture snippet_content %}
    {% for block in section.blocks %}
      <div class="swiper-slide">
        {% render 'hero-slide',
          index: forloop.index
          title: block.settings.heading,
          description: block.settings.description,
          ctatext: block.settings.cta_text,
          ctalink: block.settings.cta_link,
          imagedesktop: block.settings.image_desktop,
          imagemobile: block.settings.image_mobile,
          background_color: block.settings.background_color,
          video_external: block.settings.video_external,
          textcolor: block.settings.hero_text_color,
          size: "428 720 1920",
          position_block: block.settings.position_block
        %}
      </div>
    {% endfor %}
  {% endcapture %}

  {% liquid
    
  %}

  {% render 'slider'
    content: snippet_content,
    arrows: false,
    pagination: showPagination,
    perpage: 1
  %}

</div>

{% schema %}
{
  "name": "Hero Slider",
  "class": "hero-slide",
  "max_blocks": 4,
  "blocks": [
    {
      "type": "content",
      "name": "Slide",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Heading Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "Button Text",
          "default": "Button text"
        },
        {
          "type": "text",
          "id": "cta_link",
          "label": "Button Link",
          "default": "#"
        },
        {
         "type": "image_picker",
         "id": "image_desktop",
         "label": "Desktop Image",
         "info": "Ratio 18:6"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Mobile Image",
          "info": "Ratio 1:1"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Background color"
        },
        {
          "type": "color",
          "id": "hero_text_color",
          "label": "Text color for Hero Slide",
          "default": "#FFFFFF"
        },
        {
          "type": "select",
          "id": "position_block",
          "label": "Vertical alignment",
          "options": [
            {
              "value": "middle-left",
              "label": "Middle left"
            },
            {
              "value": "middle-center",
              "label": "Middle center"
            },
            {
              "value": "middle-right",
              "label": "Middle right"
            }
          ],
          "default": "middle-left"
        },
        {
          "type": "video_url",
          "id": "video_external",
          "label": "Video external",
          "accept": [
            "youtube",
            "vimeo"
          ]
        }
      ]
    }
  ],
  "presets": [
     {
       "name": "Hero Slider",
       "blocks": [
          {
            "type": "content"
          },
          {
            "type": "content"
          },
          {
            "type": "content"
          },
          {
            "type": "content"
          }
        ]
     }
  ]
}
{% endschema %}