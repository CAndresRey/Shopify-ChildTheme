{"version":3,"file":"collection.js","mappings":"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","sources":["webpack://theme-base-shopify/./src/utils/query-selector.js","webpack://theme-base-shopify/./src/components/sort-by.js","webpack://theme-base-shopify/./src/components/video-frame.js","webpack://theme-base-shopify/./src/utils/toggle-dataset.js","webpack://theme-base-shopify/./src/components/filters-range.js","webpack://theme-base-shopify/./src/templates/collection.js"],"sourcesContent":["/**\n * @param {String} nodes - ClassList with DOM reference\n * @param {HTMLElement} parent - Parent of nodes\n * @returns {Array} Array of nodes in DOM\n */\nconst $Qll = (\n  nodes,\n  // eslint-disable-next-line no-undef\n  parent) => [...(parent || document).querySelectorAll(nodes)]\n\n/**\n *\n * @param {HTMLElement} node - ClassName with DOM reference\n * @param {HTMLElement} parent - Parent of nodes\n * @returns {Node} Node in DOM\n */\n// eslint-disable-next-line no-undef\nconst $Q = (node, parent) => (parent || document).querySelector(node)\n\nexport {\n  $Qll,\n  $Q,\n}\n","import { $Q } from \"../utils/query-selector\";\n\n// eslint-disable-next-line no-undef\nShopify.queryParams = {};\n\n/**\n * Update sort_by query parameter on select change\n */\nexport const defultSortBy = () => {\n  $Q('#sort-by')\n  .addEventListener(\n    'change',\n    ({ target }) => {\n      /* eslint-disable no-undef */\n      Shopify.queryParams.sort_by = target.value;\n      location.search = new URLSearchParams(Shopify.queryParams).toString();\n      /* eslint-enable no-undef */\n  });\n}\n\n/**\n * Preserve existing query parameters\n */\n// eslint-disable-next-line func-names\n(function () {\n  /* eslint-disable no-undef */\n  if (location.search.length) {\n    const params = location.search.substring(1).split('&');\n\n    for (let i = 0; i < params.length; i++) {\n      const keyValue = params[i].split('=');\n\n      if (keyValue.length) {\n        Shopify.queryParams[\n          decodeURIComponent(keyValue[0])\n        ] = decodeURIComponent(keyValue[1]);\n      }\n    }\n  }\n  /* eslint-enable no-undef */\n}());\n","import { $Q, $Qll } from '../utils/query-selector';\nimport { dataToggleVideo } from '../utils/toggle-dataset';\n\n/**\n * Reset re-render DOM\n * @param {HTMLElement} modal - node content video frame\n */\nexport function resetVideo(modal) {\n  const wrapper = modal;\n  wrapper.innerHTML = $Q('.video__modal-wrapper', modal).outerHTML;\n}\n\n/**\n * Data Active toggle\n *\n * @param {String} control - ID button control\n * @param {String} node - ID modal\n */\nexport const activeVideoFrame = (control, node) => {\n  $Q(control).addEventListener('click', () => {\n    dataToggleVideo($Q(node), true, true)\n  });\n};\n\n/**\n * Init video section by id\n */\n(function initVideoFrame() {\n  $Qll('.video__button').forEach((button) => {\n    const { dataset: { section } } = button;\n\n    activeVideoFrame(\n      `#play-button-${section}-js`,\n      `#modal-video-${section}-js`,\n    );\n  })\n}())\n","import { resetVideo } from \"../components/video-frame\";\nimport { $Q } from \"./query-selector\"\n\n/**\n *\n * @param {String} id - ID from node manipulate\n * @param {Boolean} active - If modal active\n * @param {HTMLElement} node - Node to manipulate\n */\n const overlayActions = (id, active, node) => {\n  const idOverlay = `overlay--${id}`;\n  const parent = node.parentNode;\n\n  if (!active) {\n    // eslint-disable-next-line no-undef\n    const overlay = document.createElement(\"div\");\n\n    overlay.setAttribute(\"id\", idOverlay);\n    overlay.classList.add(\"overlay\");\n\n    parent.insertBefore(overlay, node);\n    // eslint-disable-next-line no-use-before-define\n    toggleDataActive(`#${idOverlay}`, `#${id}`, { overlay: true });\n  } else {\n    parent.removeChild($Q(`#${idOverlay}`));\n  }\n}\n\n/**\n * To validate state in dataset node\n */\nexport const isActive = ({ active }) => active === \"true\";\n\n/**\n* Data Toggle\n*\n* @param {HTMLElement} node - Node to manipulate\n* @param {Boolean} overlay - if used to a overlay\n*/\nexport function dataToggle(node, overlay) {\n\n  const { dataset, id } = node;\n  const active = isActive(dataset);\n\n  if (active) {\n    dataset.active = \"false\";\n  } else {\n    dataset.active = \"true\";\n  }\n\n  if (overlay) overlayActions(id, active, node);\n}\n/**\n * Data Active toggle\n *\n * @param {String} control - ID button control\n * @param {String} node - ID modal\n * @param {Object} config - Object with overlay, closeSelector\n */\n export const toggleDataActive = (control, node, config = {}) => {\n  const { overlay, closeSelector, video } = config;\n\n  $Q(control).addEventListener(\"click\", () => {\n    dataToggle($Q(node), overlay, video)\n  });\n\n  if (closeSelector) {\n    $Q(closeSelector).addEventListener(\n      \"click\",\n      () => dataToggle($Q(node), overlay),\n    )\n  }\n}\n\n/**\n *\n * @param {String} id - ID from node manipulate\n * @param {Boolean} active - If modal active\n * @param {HTMLElement} node - Node to manipulate\n */\n const overlayActionsVideo = (id, node, { active, video }) => {\n  const idOverlay = `overlay--${id}`;\n  const parent = node.parentNode;\n\n  if (!active) {\n    const overlay = document.createElement(\"div\");\n\n    overlay.setAttribute(\"id\", idOverlay);\n    overlay.classList.add(\"overlay\");\n\n    parent.insertBefore(overlay, node);\n    toggleDataActive(`#${idOverlay}`, `#${id}`, { overlay: true, video });\n  } else {\n    parent.removeChild($Q(`#${idOverlay}`));\n\n    if (video) {\n      resetVideo(node);\n    }\n  }\n}\n\n/**\n* Data Toggle\n*\n* @param {HTMLElement} node - Node to manipulate\n* @param {Boolean} overlay - if used to a overlay\n*/\nexport function dataToggleVideo(node, overlay, video) {\n\n  const { dataset, id } = node;\n  const active = isActive(dataset);\n\n  if (active) {\n    dataset.active = \"false\";\n  } else {\n    dataset.active = \"true\";\n  }\n\n  if (overlay) {\n    overlayActionsVideo(id, node, { active, video })\n  }\n\n}\n","import { $Q, $Qll } from \"../utils/query-selector\";\n\n/**\n *\n * we control the price range filter in order to avoid that the minimum\n * value is greater than the highest value and that the highest\n * value is not less than the lowest value\n *\n */\nexport function rangeFilters() {\n  const rangeIn = $Qll(\".range-in input\");\n  const priceIn = $Qll(\".price-in input\");\n  const progress = $Q('.slider-filter .pro');\n  const priceGap = 0;\n\n  rangeIn.forEach((input) => {\n    if (priceIn[0].value) {\n      progress.style.left = `${(priceIn[0].value / rangeIn[0].max) * 10000 }%`;\n      progress.style.right = `${100 - (priceIn[1].value / rangeIn[1].max) * 10000 }%`;\n    }\n\n    input.addEventListener(\"input\", (e) => {\n      const minVal = Number(rangeIn[0].value);\n      const maxVal = Number(rangeIn[1].value);\n      console.log(\"min\", minVal);\n\n      if (maxVal - minVal < priceGap) {\n        if (e.target.className === \"range-min\") {\n          rangeIn[0].value = cents(maxVal - priceGap);\n        } else {\n          rangeIn[1].value = cents(minVal + priceGap);\n        }\n      } else {\n        priceIn[0].value = cents(minVal, true);\n        $Q(\".range1 div\").textContent = cents(minVal, true);\n        priceIn[1].value = cents(maxVal, true);\n        $Q(\".range2 div\").textContent = cents(maxVal, true);\n        progress.style.left = `${(minVal / rangeIn[0].max) * 100 }%`;\n        progress.style.right = `${100 - (maxVal / rangeIn[1].max) * 100 }%`;\n      }\n    });\n  });\n}\n\nfunction cents(str, fixed) {\n  const number = Number(str) / 100\n  if (fixed) return number.toFixed(2);\n  return number\n}\n\n(function formatValues() {\n  $Qll('.price-in input').forEach(\n    (item) => {\n      item.value = cents(item.value, true)\n    },\n  )\n}());\n","import \"../scss/collection.scss\";\nimport { defultSortBy } from \"../components/sort-by\";\nimport { toggleDataActive } from \"../utils/toggle-dataset\";\nimport { rangeFilters } from \"../components/filters-range\";\n\ndefultSortBy();\nrangeFilters();\n\ntoggleDataActive(\n  '#filter-open',\n  '#filter',\n  {\n    overlay: true,\n  },\n)\n\ntoggleDataActive(\n  '.filter-form__name svg',\n  '#filter',\n  {\n    overlay: true,\n  },\n)\n"],"names":["$Qll","nodes","parent","document","querySelectorAll","$Q","node","querySelector","Shopify","queryParams","location","search","length","params","substring","split","i","keyValue","decodeURIComponent","activeVideoFrame","control","addEventListener","overlay","video","dataset","id","active","isActive","idOverlay","parentNode","removeChild","modal","innerHTML","outerHTML","createElement","setAttribute","classList","add","insertBefore","toggleDataActive","overlayActionsVideo","dataToggleVideo","forEach","button","section","dataToggle","overlayActions","config","closeSelector","cents","str","fixed","number","Number","toFixed","item","value","target","sort_by","URLSearchParams","toString","rangeIn","priceIn","progress","input","style","left","max","right","e","minVal","maxVal","console","log","className","textContent","rangeFilters"],"sourceRoot":""}