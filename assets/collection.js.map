{"version":3,"file":"collection.js","mappings":"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","sources":["webpack://theme-base-shopify/./src/utils/query-selector.js","webpack://theme-base-shopify/./src/components/sort-by.js","webpack://theme-base-shopify/./src/components/video-frame.js","webpack://theme-base-shopify/./src/utils/toggle-dataset.js","webpack://theme-base-shopify/./src/components/filters-range.js","webpack://theme-base-shopify/./src/templates/collection.js"],"sourcesContent":["/**\r\n * @param {String} nodes - ClassList with DOM reference\r\n * @param {HTMLElement} parent - Parent of nodes\r\n * @returns {Array} Array of nodes in DOM\r\n */\r\nconst $Qll = (\r\n  nodes,\r\n  // eslint-disable-next-line no-undef\r\n  parent) => [...(parent || document).querySelectorAll(nodes)]\r\n\r\n/**\r\n *\r\n * @param {HTMLElement} node - ClassName with DOM reference\r\n * @param {HTMLElement} parent - Parent of nodes\r\n * @returns {Node} Node in DOM\r\n */\r\n// eslint-disable-next-line no-undef\r\nconst $Q = (node, parent) => (parent || document).querySelector(node)\r\n\r\nexport {\r\n  $Qll,\r\n  $Q,\r\n}\r\n","import { $Q } from \"../utils/query-selector\";\r\n\r\n// eslint-disable-next-line no-undef\r\nShopify.queryParams = {};\r\n\r\n/**\r\n * Update sort_by query parameter on select change\r\n */\r\nexport const defultSortBy = () => {\r\n  $Q('#sort-by')\r\n  .addEventListener(\r\n    'change',\r\n    ({ target }) => {\r\n      /* eslint-disable no-undef */\r\n      Shopify.queryParams.sort_by = target.value;\r\n      location.search = new URLSearchParams(Shopify.queryParams).toString();\r\n      /* eslint-enable no-undef */\r\n  });\r\n}\r\n\r\n/**\r\n * Preserve existing query parameters\r\n */\r\n// eslint-disable-next-line func-names\r\n(function () {\r\n  /* eslint-disable no-undef */\r\n  if (location.search.length) {\r\n    const params = location.search.substring(1).split('&');\r\n\r\n    for (let i = 0; i < params.length; i++) {\r\n      const keyValue = params[i].split('=');\r\n\r\n      if (keyValue.length) {\r\n        Shopify.queryParams[\r\n          decodeURIComponent(keyValue[0])\r\n        ] = decodeURIComponent(keyValue[1]);\r\n      }\r\n    }\r\n  }\r\n  /* eslint-enable no-undef */\r\n}());\r\n","import { $Q, $Qll } from '../utils/query-selector';\r\nimport { dataToggleVideo } from '../utils/toggle-dataset';\r\n\r\n/**\r\n * Reset re-render DOM\r\n * @param {HTMLElement} modal - node content video frame\r\n */\r\nexport function resetVideo(modal) {\r\n  const wrapper = modal;\r\n  wrapper.innerHTML = $Q('.video__modal-wrapper', modal).outerHTML;\r\n}\r\n\r\n/**\r\n * Data Active toggle\r\n *\r\n * @param {String} control - ID button control\r\n * @param {String} node - ID modal\r\n */\r\nexport const activeVideoFrame = (control, node) => {\r\n  $Q(control).addEventListener('click', () => {\r\n    dataToggleVideo($Q(node), true, true)\r\n  });\r\n};\r\n\r\n/**\r\n * Init video section by id\r\n */\r\n(function initVideoFrame() {\r\n  $Qll('.video__button').forEach((button) => {\r\n    const { dataset: { section } } = button;\r\n\r\n    activeVideoFrame(\r\n      `#play-button-${section}-js`,\r\n      `#modal-video-${section}-js`,\r\n    );\r\n  })\r\n}())\r\n","import { resetVideo } from \"../components/video-frame\";\r\nimport { $Q } from \"./query-selector\"\r\n\r\n/**\r\n *\r\n * @param {String} id - ID from node manipulate\r\n * @param {Boolean} active - If modal active\r\n * @param {HTMLElement} node - Node to manipulate\r\n */\r\n const overlayActions = (id, active, node) => {\r\n  const idOverlay = `overlay--${id}`;\r\n  const parent = node.parentNode;\r\n\r\n  if (!active) {\r\n    // eslint-disable-next-line no-undef\r\n    const overlay = document.createElement(\"div\");\r\n\r\n    overlay.setAttribute(\"id\", idOverlay);\r\n    overlay.classList.add(\"overlay\");\r\n\r\n    parent.insertBefore(overlay, node);\r\n    // eslint-disable-next-line no-use-before-define\r\n    toggleDataActive(`#${idOverlay}`, `#${id}`, { overlay: true });\r\n  } else {\r\n    parent.removeChild($Q(`#${idOverlay}`));\r\n  }\r\n}\r\n\r\n/**\r\n * To validate state in dataset node\r\n */\r\nexport const isActive = ({ active }) => active === \"true\";\r\n\r\n/**\r\n* Data Toggle\r\n*\r\n* @param {HTMLElement} node - Node to manipulate\r\n* @param {Boolean} overlay - if used to a overlay\r\n*/\r\nexport function dataToggle(node, overlay) {\r\n\r\n  const { dataset, id } = node;\r\n  const active = isActive(dataset);\r\n\r\n  if (active) {\r\n    dataset.active = \"false\";\r\n  } else {\r\n    dataset.active = \"true\";\r\n  }\r\n\r\n  if (overlay) overlayActions(id, active, node);\r\n}\r\n/**\r\n * Data Active toggle\r\n *\r\n * @param {String} control - ID button control\r\n * @param {String} node - ID modal\r\n * @param {Object} config - Object with overlay, closeSelector\r\n */\r\n export const toggleDataActive = (control, node, config = {}) => {\r\n  const { overlay, closeSelector, video } = config;\r\n\r\n  $Q(control).addEventListener(\"click\", () => {\r\n    dataToggle($Q(node), overlay, video)\r\n  });\r\n\r\n  if (closeSelector) {\r\n    $Q(closeSelector).addEventListener(\r\n      \"click\",\r\n      () => dataToggle($Q(node), overlay),\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {String} id - ID from node manipulate\r\n * @param {Boolean} active - If modal active\r\n * @param {HTMLElement} node - Node to manipulate\r\n */\r\n const overlayActionsVideo = (id, node, { active, video }) => {\r\n  const idOverlay = `overlay--${id}`;\r\n  const parent = node.parentNode;\r\n\r\n  if (!active) {\r\n    const overlay = document.createElement(\"div\");\r\n\r\n    overlay.setAttribute(\"id\", idOverlay);\r\n    overlay.classList.add(\"overlay\");\r\n\r\n    parent.insertBefore(overlay, node);\r\n    toggleDataActive(`#${idOverlay}`, `#${id}`, { overlay: true, video });\r\n  } else {\r\n    parent.removeChild($Q(`#${idOverlay}`));\r\n\r\n    if (video) {\r\n      resetVideo(node);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n* Data Toggle\r\n*\r\n* @param {HTMLElement} node - Node to manipulate\r\n* @param {Boolean} overlay - if used to a overlay\r\n*/\r\nexport function dataToggleVideo(node, overlay, video) {\r\n\r\n  const { dataset, id } = node;\r\n  const active = isActive(dataset);\r\n\r\n  if (active) {\r\n    dataset.active = \"false\";\r\n  } else {\r\n    dataset.active = \"true\";\r\n  }\r\n\r\n  if (overlay) {\r\n    overlayActionsVideo(id, node, { active, video })\r\n  }\r\n\r\n}\r\n","import { $Q, $Qll } from \"../utils/query-selector\";\r\n\r\n/**\r\n *\r\n * we control the price range filter in order to avoid that the minimum\r\n * value is greater than the highest value and that the highest\r\n * value is not less than the lowest value\r\n *\r\n */\r\nexport function rangeFilters() {\r\n  const rangeIn = $Qll(\".range-in input\");\r\n  const priceIn = $Qll(\".price-in input\");\r\n  const progress = $Q('.slider-filter .pro');\r\n  const priceGap = 0;\r\n\r\n  rangeIn.forEach((input) => {\r\n    if (priceIn[0].value) {\r\n      progress.style.left = `${(priceIn[0].value / rangeIn[0].max) * 10000 }%`;\r\n      progress.style.right = `${100 - (priceIn[1].value / rangeIn[1].max) * 10000 }%`;\r\n    }\r\n\r\n    input.addEventListener(\"input\", (e) => {\r\n      const minVal = Number(rangeIn[0].value);\r\n      const maxVal = Number(rangeIn[1].value);\r\n\r\n      if (maxVal - minVal < priceGap) {\r\n        if (e.target.className === \"range-min\") {\r\n          rangeIn[0].value = cents(maxVal - priceGap);\r\n        } else {\r\n          rangeIn[1].value = cents(minVal + priceGap);\r\n        }\r\n      } else {\r\n        priceIn[0].value = cents(minVal, true);\r\n        $Q(\".range1 div\").textContent = cents(minVal, true);\r\n        priceIn[1].value = cents(maxVal, true);\r\n        $Q(\".range2 div\").textContent = cents(maxVal, true);\r\n        progress.style.left = `${(minVal / rangeIn[0].max) * 100 }%`;\r\n        progress.style.right = `${100 - (maxVal / rangeIn[1].max) * 100 }%`;\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction cents(str, fixed) {\r\n  const number = Number(str) / 100\r\n  if (fixed) return number.toFixed(2);\r\n  return number\r\n}\r\n\r\n(function formatValues() {\r\n  $Qll('.price-in input').forEach(\r\n    (item) => {\r\n      item.value = cents(item.value, true)\r\n    },\r\n  )\r\n}());\r\n","import \"../scss/collection.scss\";\r\nimport { defultSortBy } from \"../components/sort-by\";\r\nimport { toggleDataActive } from \"../utils/toggle-dataset\";\r\nimport { rangeFilters } from \"../components/filters-range\";\r\n\r\ndefultSortBy();\r\nrangeFilters();\r\n\r\ntoggleDataActive(\r\n  '#filter-open',\r\n  '#filter',\r\n  {\r\n    overlay: true,\r\n  },\r\n)\r\n\r\ntoggleDataActive(\r\n  '.filter-form__name svg',\r\n  '#filter',\r\n  {\r\n    overlay: true,\r\n  },\r\n)\r\n"],"names":["$Qll","nodes","parent","document","querySelectorAll","$Q","node","querySelector","Shopify","queryParams","location","search","length","params","substring","split","i","keyValue","decodeURIComponent","activeVideoFrame","control","addEventListener","overlay","video","dataset","id","active","isActive","overlayActionsVideo","dataToggleVideo","forEach","button","section","dataToggle","overlayActions","idOverlay","parentNode","removeChild","createElement","setAttribute","classList","add","insertBefore","toggleDataActive","config","closeSelector","modal","innerHTML","outerHTML","cents","str","fixed","number","Number","toFixed","item","value","target","sort_by","URLSearchParams","toString","rangeIn","priceIn","progress","input","style","left","max","right","e","minVal","maxVal","className","textContent","rangeFilters"],"sourceRoot":""}